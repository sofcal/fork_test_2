DBQuery.shellBatchSize = 7000;
db.Organisation.aggregate([
{ $match:{"products.productId": "2ac2a370-6f73-4be4-b138-08eb9f2e7992"}},
{
$lookup: {
from: 'Rule',
localField: '_id',
foreignField: 'organisationId',
as: 'r'
}
},
{ $unwind: '$r' },
{ $project: { crmId: '$crmId', adminEmail:'$adminEmail', baID: '$r.bankAccountId',numberOfRules:'$r.numberOfRules'} }

])